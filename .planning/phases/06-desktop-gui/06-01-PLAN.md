---
phase: 06-desktop-gui
plan: 01
type: execute
---

<objective>
Set up CustomTkinter framework and create main application window with navigation.

Purpose: Establish the desktop GUI foundation using CustomTkinter for modern dark-themed interface.
Output: Working desktop app with main window, sidebar navigation, and frame management.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@src/ui/app.py (terminal UI reference)

**Framework Choice: CustomTkinter**
- Modern look with dark theme built-in
- Lightweight, pure Python
- No complex dependencies like PyQt6
- Similar API to standard tkinter
- Good Windows support

**Key CustomTkinter components:**
- CTk: Main window
- CTkFrame: Container frames
- CTkButton: Styled buttons
- CTkLabel: Text labels
- CTkEntry: Text input
- CTkScrollableFrame: Scrollable containers
- CTkTabview: Tab navigation
- CTkProgressBar: Progress indicators

**Theme colors (matching terminal UI):**
- Background: #1a1a1a
- Surface: #2d2d2d
- Primary: #00ff00
- Accent: #ff6600
- Text: #e0e0e0
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GUI package structure</name>
  <files>src/gui/__init__.py, src/gui/app.py</files>
  <action>
    Create desktop GUI application:

    1. Create src/gui/ directory with __init__.py

    2. Create DesktopApp class in app.py:
       - Inherit from customtkinter.CTk
       - Set title, geometry, dark theme
       - Configure grid layout
       - Session manager integration

    3. Main window layout:
       - Sidebar frame (navigation)
       - Main content frame
       - Status bar frame

    4. Configure appearance:
       - Set color theme
       - Dark mode default
       - Custom colors for brutalist theme
  </action>
  <verify>python -c "from src.gui.app import DesktopApp; print('Desktop app imported')"</verify>
  <done>Desktop app structure created</done>
</task>

<task type="auto">
  <name>Task 2: Create sidebar navigation</name>
  <files>src/gui/components/sidebar.py</files>
  <action>
    Create sidebar navigation component:

    1. Create src/gui/components/ directory

    2. Create Sidebar class:
       - Logo/title at top
       - Navigation buttons
       - Connection status indicator
       - Settings button at bottom

    3. Navigation items:
       - Mailboxes (main view)
       - Dashboard
       - Bulk Operations
       - Settings
       - Help

    4. Visual styling:
       - Dark background
       - Green accent for selected
       - Hover effects
  </action>
  <verify>python -c "from src.gui.components.sidebar import Sidebar; print('Sidebar imported')"</verify>
  <done>Sidebar navigation working</done>
</task>

<task type="auto">
  <name>Task 3: Create frame management</name>
  <files>src/gui/frames/__init__.py, src/gui/frames/base_frame.py</files>
  <action>
    Create frame management system:

    1. Create src/gui/frames/ directory

    2. Create BaseFrame class:
       - Common frame functionality
       - Session access
       - Refresh method
       - Standard styling

    3. Frame switching in app:
       - Store frame instances
       - show_frame() method
       - Hide/show mechanics

    4. Frame registry:
       - Register frames by name
       - Lazy loading support
  </action>
  <verify>python -c "from src.gui.frames.base_frame import BaseFrame; print('BaseFrame imported')"</verify>
  <done>Frame management system working</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] CustomTkinter app launches
- [ ] Main window displays correctly
- [ ] Sidebar shows navigation
- [ ] Frame switching works
- [ ] Dark theme applied
</verification>

<success_criteria>
- All tasks completed
- App launches without errors
- Navigation is functional
- Theme is consistent
</success_criteria>

<output>
After completion, create `.planning/phases/06-desktop-gui/06-01-SUMMARY.md`
</output>
